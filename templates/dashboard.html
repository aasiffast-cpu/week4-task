{% extends "base.html" %}
{% block title %}My Posts — Dashboard{% endblock %}
{% block content %}
<h1>My Posts</h1>
<p class="muted">Manage your articles here.</p>
<p><a class="btn btn-primary" href="{{ url_for('add_post') }}">Write a new post</a></p>

{% if posts %}
<ul class="list">
  {% for p in posts %}
    <li>
      <a href="{{ url_for('view_post', post_id=p.id) }}">{{ p.title }}</a>
      <span class="muted">• {{ p.created_at.strftime('%Y-%m-%d %H:%M') }}</span>
      <span class="actions">
        <a class="btn btn-outline" href="{{ url_for('edit_post', post_id=p.id) }}">Edit</a>
        <form method="POST" action="{{ url_for('delete_post', post_id=p.id) }}" onsubmit="return confirm('Delete this post?');">
          <button class="btn btn-danger" type="submit">Delete</button>
        </form>
      </span>
    </li>
  {% endfor %}
</ul>
{% else %}
  <div class="empty">You haven’t written anything yet.</div>
{% endif %}
{% endblock %}
